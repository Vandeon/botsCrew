package com.controller;

import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;
import javax.persistence.Persistence;

import com.entity.Degree;
import com.entity.Department;
import com.entity.Lector;
import com.repository.DepartmentRepository;
import com.repository.LectorRepository;

public class Main {

	public static void main(String[] args) {

		EntityManagerFactory factory = Persistence.createEntityManagerFactory("primary");
		EntityManager manager = factory.createEntityManager();
		LectorRepository lr = new LectorRepository(manager);
		DepartmentRepository dr = new DepartmentRepository(manager);

		System.out.println("Wellcome to our university!");

		Scanner sc = new Scanner(System.in);
		while (true) {
			System.out.println(
					"Make your choise:"
					+ "\n 1 - Generate DB with departments and lectors."
					+ "\n 2 - Find a head of department."
					+ "\n 3 - Show department statistic"
					+ "\n 4 - Show the avarage salary for department."
					+ "\n 5 - Show count of employee for department."
					+ "\n 6 - Global search."
					+ "\n 7 - Manage DB."
					+ "\n 8 - Exit.");
			int key = sc.nextInt();
			switch(key) {
			case 1:
				generate(lr, dr);
				break;
			case 2:
				sc.nextLine();
				String str = sc.nextLine();
				System.out.println(findHead(str, dr));
				break;
			case 3:
				break;
			case 4:
				break;
			case 5:
				break;
			case 6:
				break;
			case 7:
				System.out.println("What would u like to change?"
						+ "\n 1 - Add department."
						+ "\n 2 - Remove department."
						+ "\n 3 - Add lector."
						+ "\n 4 - Remove lector."
						+ "\n 5 - Back.");
				int secondKey = sc.nextInt();
				switch(secondKey) {
				case 1:
					break;
				case 2:
					break;
				case 3:
					break;
				case 4:
					break;
				default:
					break;
				}
				break;
			case 8:
				System.out.println("Good luck!");
				System.exit(0);
				break;
				
			}
		}

	}
	
	public static String findHead(String depName, DepartmentRepository dr) {
		Lector head = (Lector)dr.findByName(depName).getHead();
		return "Head of " + depName + " department is " + head.getFirstName() + " " + head.getLastName();
	}

	public static void generate(LectorRepository lr, DepartmentRepository dr) {
		Department department1 = new Department();
		Department department2 = new Department();
		Department department3 = new Department();
		Department department4 = new Department();
		Department department5 = new Department();
		department1.setName("Department of Architecture");
		department2.setName("Department of Italian");
		department3.setName("Department of Middle Eastern Studies");
		department4.setName("Department of Archaeology");
		department5.setName("Department of Sociology");		
		
		Lector lector1 = new Lector();
		lector1.setFirstName("Jakob");
		lector1.setLastName("White");
		lector1.setDegree(Degree.PROFESSOR);
		lector1.setAge(65);
		lector1.setSalary(7800);
		
		Lector lector2 = new Lector();
		lector2.setFirstName("John");
		lector2.setLastName("Black");
		lector2.setDegree(Degree.PROFESSOR);
		lector2.setAge(75);
		lector2.setSalary(7500);
		
		Lector lector3 = new Lector();
		lector3.setFirstName("Mike");
		lector3.setLastName("Tysson");
		lector3.setDegree(Degree.PROFESSOR);
		lector3.setAge(46);
		lector3.setSalary(5000);
		
		Lector lector4 = new Lector();
		lector4.setFirstName("Petro");
		lector4.setLastName("Poroshenko");
		lector4.setDegree(Degree.ASSOCIATE_PROFESSOR);
		lector4.setAge(99);
		lector4.setSalary(10000000);
		
		Lector lector5 = new Lector();
		lector5.setFirstName("John");
		lector5.setLastName("Snow");
		lector5.setDegree(Degree.ASSOCIATE_PROFESSOR);
		lector5.setAge(36);
		lector5.setSalary(3200);
		
		Lector lector6 = new Lector();
		lector6.setFirstName("Alexand");
		lector6.setLastName("Makedonskij");
		lector6.setDegree(Degree.ASSOCIATE_PROFESSOR);
		lector6.setAge(44);
		lector6.setSalary(6600);
		
		Lector lector7 = new Lector();
		lector7.setFirstName("Karim");
		lector7.setLastName("Benzema");
		lector7.setDegree(Degree.ASSISTANT);
		lector7.setAge(25);
		lector7.setSalary(6700);
		
		Lector lector8 = new Lector();
		lector8.setFirstName("Lionell");
		lector8.setLastName("Messi");
		lector8.setDegree(Degree.ASSISTANT);
		lector8.setAge(29);
		lector8.setSalary(23400);
		
		Lector lector9 = new Lector();
		lector9.setFirstName("Eduard");
		lector9.setLastName("Petrenko");
		lector9.setDegree(Degree.ASSISTANT);
		lector9.setAge(28);
		lector9.setSalary(12900);
		
		Lector lector10 = new Lector();
		lector10.setFirstName("Donald");
		lector10.setLastName("Trump");
		lector10.setDegree(Degree.ASSISTANT);
		lector10.setAge(54);
		lector10.setSalary(97500);
		
		department1.setHead(lector1);
		department2.setHead(lector2);
		department3.setHead(lector3);
		department4.setHead(lector4);
		department5.setHead(lector5);
		
		List<Lector> list1 = new ArrayList<Lector>();
		list1.add(lector1);
		list1.add(lector1);
		list1.add(lector1);
		
		List<Lector> list2 = new ArrayList<Lector>();
		list2.add(lector2);
		list2.add(lector3);
		list2.add(lector7);
		list2.add(lector8);
		
		List<Lector> list3 = new ArrayList<Lector>();
		list3.add(lector3);
		list3.add(lector4);
		list3.add(lector5);
		list3.add(lector6);
		list3.add(lector7);
		list3.add(lector8);
		list3.add(lector9);
		
		List<Lector> list4 = new ArrayList<Lector>();
		list4.add(lector10);
		list4.add(lector4);
		list4.add(lector5);
		list4.add(lector2);
		list4.add(lector1);
		
		List<Lector> list5 = new ArrayList<Lector>();
		list5.add(lector3);
		list5.add(lector5);
		list5.add(lector6);
		list5.add(lector8);
		
		department1.setLectors(list1);
		department2.setLectors(list2);
		department3.setLectors(list3);
		department4.setLectors(list4);
		department5.setLectors(list5);
		
		lr.save(lector1);
		lr.save(lector2);
		lr.save(lector3);
		lr.save(lector4);
		lr.save(lector5);
		lr.save(lector6);
		lr.save(lector7);
		lr.save(lector8);
		lr.save(lector9);
		lr.save(lector10);
		
		dr.save(department1);
		dr.save(department2);
		dr.save(department3);
		dr.save(department4);
		dr.save(department5);
		
		
	}
	
}
